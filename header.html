<header class="site-header">
  <div class="container header__inner">
    <a class="logo" href="#hero" aria-label="На главную">
      <span class="logo__mark">БУХ</span><span class="logo__text">Сервис</span>
    </a>

    <nav class="nav-desktop" aria-label="Главная навигация">
      <a href="#about">О нас</a>
      <a href="#services">Услуги</a>
      <a href="#pricing">Тарифы</a>
      <a href="#testimonials">Отзывы</a>
      <a href="#faq">FAQ</a>
      <a href="#cta" class="btn btn--small btn--primary">Заявка</a>
    </nav>

    <!-- Hamburger -->
    <button class="hamburger" id="menuOpen" aria-label="Открыть меню" aria-haspopup="true" aria-controls="mobileMenu" aria-expanded="false">
      <span></span><span></span><span></span>
    </button>
  </div>

  <!-- Fullscreen Mobile Menu -->
  <div class="mobile-menu" id="mobileMenu" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="mobile-menu__inner">
      <button class="mobile-menu__close" id="menuClose" aria-label="Закрыть меню">✕</button>
      <nav class="mobile-menu__nav">
        <a href="#about" class="mm-link">О нас</a>
        <a href="#services" class="mm-link">Услуги</a>
        <a href="#pricing" class="mm-link">Тарифы</a>
        <a href="#testimonials" class="mm-link">Отзывы</a>
        <a href="#faq" class="mm-link">FAQ</a>
        <a href="#cta" class="btn btn--primary btn--block">Оставить заявку</a>
      </nav>
      <div class="mobile-menu__contacts">
        <a href="tel:+77000000000">+7 700 000 00 00</a>
        <a href="mailto:info@example.kz">info@example.kz</a>
      </div>
    </div>
  </div>

  <!-- Overlay (фон затемнения как на fline.kz) -->
  <div class="menu-overlay" id="menuOverlay" hidden></div>

  <!-- Минимальные стили для оверлея; можно перенести в общий CSS -->
  <style>
    .menu-overlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.6);
      z-index: 998;
      display: none;
    }
    .menu-overlay.is-visible{ display:block; }
    /* убедимся что мобильное меню поверх оверлея */
    .mobile-menu{ z-index: 999; }
    /* Блокируем прокрутку при открытом меню */
    body.is-menu-open{ overflow: hidden; }
  </style>

  <!-- Логика открытия/закрытия меню с оверлеем -->
  <script>
    (function(){
      const btnOpen = document.getElementById('menuOpen');
      const btnClose = document.getElementById('menuClose');
      const mobileMenu = document.getElementById('mobileMenu');
      const overlay = document.getElementById('menuOverlay');
      const links = mobileMenu ? mobileMenu.querySelectorAll('a') : [];

      function openMenu(){
        document.body.classList.add('is-menu-open');
        if (btnOpen) btnOpen.setAttribute('aria-expanded', 'true');
        if (mobileMenu){
          mobileMenu.removeAttribute('aria-hidden');
        }
        if (overlay){
          overlay.hidden = false;
          overlay.classList.add('is-visible');
        }
      }

      function closeMenu(){
        document.body.classList.remove('is-menu-open');
        if (btnOpen) btnOpen.setAttribute('aria-expanded', 'false');
        if (mobileMenu){
          mobileMenu.setAttribute('aria-hidden', 'true');
        }
        if (overlay){
          overlay.classList.remove('is-visible');
          setTimeout(()=>{ overlay.hidden = true; }, 150);
        }
      }

      if (btnOpen) btnOpen.addEventListener('click', openMenu);
      if (btnClose) btnClose.addEventListener('click', closeMenu);
      if (overlay) overlay.addEventListener('click', closeMenu);
      document.addEventListener('keydown', (e)=>{
        if(e.key === 'Escape'){ closeMenu(); }
      });
      if (links && links.length){
        links.forEach(a => a.addEventListener('click', closeMenu));
      }
    })();
  </script>
</header>
